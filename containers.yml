.target_platforms: &target_platforms
  - linux/amd64
  - linux/arm64
  - linux/arm/v7
# ----- Salt Releases ------------------------------------------------------------------------------------>
# Builds the latest minor version of the defined versions
salt:
  Salt Releases:
    name: salt
    versions:
      - 3002
      - 3003
      - 3004
      - 3005
# <---- Salt Releases -------------------------------------------------------------------------------------

# ----- Custom Containers -------------------------------------------------------------------------------->
# Custom images used in the CI pipeline
custom:
  OpenLDAP Minion:
    name: openldap-minion
    platforms: *target_platforms
    versions:
      - latest
  Virt Minion:
    name: virt-minion
    platforms: *target_platforms
    versions:
      - latest
  SSH Minion:
    name: ssh-minion
    platforms: *target_platforms
    versions:
      - latest
  Salt GitFS HTTP Server:
    name: salt-gitfs-http
    platforms: *target_platforms
    versions:
      - latest
# <---- Custom Containers ---------------------------------------------------------------------------------

# ----- Mirrored Containers ------------------------------------------------------------------------------>
# Mirrored Images used in the CI pipelines
mirrors:
  MySQL Server:
    container: mysql/mysql-server
    platforms: *target_platforms
    versions:
      - "5.5"
      - "5.6"
      - "5.7"
      - "8.0"

  MariaDB:
    container: mariadb
    platforms: *target_platforms
    versions:
      - "10.1"
      - "10.2"
      - "10.3"
      - "10.4"
      - "10.5"

  Percona:
    container: percona
    platforms: *target_platforms
    versions:
      - "5.5"
      - "5.6"
      - "5.7"
      - "8.0"

  Consul:
    container: consul
    platforms: *target_platforms
    versions:
      - latest

  RabbitMQ:
    container: rabbitmq
    platforms: *target_platforms
    versions:
      - "3.9"
      - "3.10"
      - "3.11"

  Apache ZooKeeper:
    container: zookeeper
    platforms: *target_platforms
    versions:
      - 3.5.9

  Vault:
    container: vault
    platforms: *target_platforms
    versions:
      - "0.9.6"
      - "1.3.1"
      - "latest"

  Etcd v2:
    container: elcolio/etcd
    platforms: *target_platforms
    source_tag: latest
    versions:
      - "2"

  Etcd v3:
    container: bitnami/etcd
    platforms: *target_platforms
    versions:
      - "3"

  Python:
    container: python
    platforms: *target_platforms
    versions:
      - "3"
      - "3.6"
      - "3.7"
      - "3.8"
      - "3.9"
      - "3.10"

  Redis:
    container: redis
    source_tag: alpine
    platforms: *target_platforms
    versions:
      - alpine

  BusyBox:
    container: busybox
    platforms: *target_platforms
    versions:
      - musl
# <---- Mirrored Containers -------------------------------------------------------------------------------
